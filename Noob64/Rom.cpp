#include "StdAfx.h"

ROM::ROM(void)
{
	ptr = (char*) &header;
	char* sm64_header_s = "803712400000000F8024600000001444635A2BFF8B02232600000000000000005355504552204D4152494F203634202020202020000000000000004E534D45004080680040804800408058003C08A470250800008D09000C152000ED0000000027BDFFE8AFB30000AFB40004AFB50008AFB6000CAFB700103C08A470250800003C0AA3F83C0BA3F03C0CA430258C000034090040AD09000424111F40000000002231FFFF1620FFFD00000000AD00000834090014AD09000CAD00000024110004000000002231FFFF1620FFFD000000003409000EAD090000241100202231FFFF1620FFFE3409010FAD8900003C09180835292838AD490008AD4000143C098000AD49000400006825000070253C0FA3F00000C0253C19A3F03C16A0000000B8253C06A3F03C07A000000090253C14A00027BDFFB803A0F0253C10A4308E1000043C110101263101011611000500000000241002003571400010000003000000002410040035718000AE2E000425F5000C0D0001DE000000001040003800000000AFA2000024092000AD8900008DEB00003C08F0FF01685824AFAB000423BD000824091000AD8900003C08B0191568000C000000003C0808000308C0200330C8200330C8203C08002002C8B0200288A020001290402252000110000003000000003C0800100288A02024082000AD8800008DE900248DFA000024081000AD8800003129FFFF2408050015280009000000003C1B0100035BD02417400005000000003C08101C35080A04ADE80018100000033C08080C35081204ADE800183C08080001C8702001F0782001F0782025AD00012DA800081500FFC4000000003C08C400AD48000C3C088000AD48000403C0E825000018258FA900043C08B0091528001600000000AE3800042735000C8FA4000023BD0008240500010D000290000000008EC800003C080008011640208D0900008EC800003C080008011640208D0900003C08040001C870200330C8203C08001002C8B02010000021AE37000424D5000C8FA4000023BD0008240500010D000290000000008CE800003C080008010740208D0900003C080010010740208D0900003C080018010740208D0900008CE800003C080008010740208D0900003C080010010740208D0900003C080018010740208D0900003C08080002E8B82000D0302000D030203C08002000E8382024630001006D402A1500FFC3000000003C0AA470001294C03C0900063529363401324825AD4900108D4900103C08A000350803003C090FFF3529FFFF02C9B024AD16001803C0E82527BD00488FB300008FB400048FB500088FB6000C8FB7001027BD00183C08800025080000250940002529FFE04080E0004080E800BD0800000109082B1420FFFD250800203C08800025080000250920002529FFF0BD0900000109082B1420FFFD2508001010000013000000003C08800025080000250940002529FFE04080E0004080E800BD0800000109082B1420FFFD250800203C08800025080000250920002529FFF0BD0100000109082B1420FFFD250800103C0AA400254A00003C0BFFF03C090010014B50243C08A4002529FFFF3C0BA400250804C0256B077401094024016958243C09A000010A4025016A5825252900008D0D000025080004010B082B252900041420FFFBAD2DFFFC3C0C8000258C000001800008000000003C0BB0008D6900083C0A1FFF354AFFFF3C01A460012A4824AC2900003C08A4608D080010310800025500FFFD3C08A46024081000010B4020010A40243C01A460AC2800043C0A0010254AFFFF3C01A460AC2A000C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003C0BA4608D6B0010316B00011560FFE0000000003C0BB0008D64000802C028253C015D5834218B6500A1001927BDFFE0AFBF001CAFB000143C1F0010000018250000402500804825240D002000001012244200010040382500405025004058250040802500403025004060258D22000000E218210067082B1020000200602825254A00013043001F01A3782301E2C0060062700401D8202500C2082B00A0382501625826102000040204802100E2C826100000020326302600C43026250800040050782625290004151FFFE801EC602100EA702601CB38260206C026030C80263C0BB0008D68001014E80006000000008D680014160800030000000004110003000000000411FFFF000000003C09A4088D2900008FB000148FBF001C1120000627BD0020240A00413C01A404AC2A00103C01A408AC2000003C0B00AA356BAAAE3C01A404AC2B00103C01A43024080555AC28000C3C01A480AC2000183C01A450AC20000C3C01A43024090800AC290000240900023C01A4603C08A00035080300AC290010AD170014AD15000CAD13000412600004AD1400003C09A60010000003252900003C09B00025290000AD0900083C08A4002508000021091000250800041509FFFEAD00FFFC3C08A4002508100021091000250800041509FFFEAD00FFFC3C0BB0008D69000801200008000000000000000027BDFF60AFB00040AFB100440000882500008025AFA20000AFA30004AFA40008AFA5000CAFA60010AFA70014AFA80018AFA9001CAFAA0020AFAB0024AFAC0028AFAD002CAFAE0030AFAF0034AFB80038AFB9003CAFB20048AFB3004CAFB40050AFB50054AFB60058AFB7005CAFBE0060AFBF00640D00022000000000261000012A0900041520FFFB02228821001120820D000290240500018FBF0064001110828FB100448FA300048FA400088FA5000C8FA600108FA700148FA800188FA9001C8FAA00208FAB00248FAC00288FAD002C8FAE00308FAF00348FB800388FB9003C8FB000408FB200488FB3004C8FB400508FB500548FB600588FB7005C8FBE006003E0000827BD00A027BDFFE0AFBF001C000048250000582500006025299A004053400018000010250D0002430180202558400008293A00500049D023034C0019004048250000D012017A582100000000293A00501740FFF1258C0001000B2080008B202300042080008B2023000420400D0002602484FC90100000038FBF001C000010258FBF001C27BD002003E000080000000027BDFFD8AFBF001C000010250D000290240500020000F025241AFFFFAE9A00048E830004AE9A0000AE9A00000000E02500031C02307A000153400003279C000124420001279C00012B9A00081740FFF90003184227DE00012BDA000A5740FFEF241AFFFF8FBF001C27BD002803E000080000000027BDFFD8AFBF001CAFA40020A3A000270000402500005025340DC8000000702529DA00405740000401C02025100000200000102501C020250D000290240500010D0002B427A400270D0002B427A4002793BA0027241B03208FA40020035B0019000040120104D02307430003034DD82A0088D023034DD82A536000048FA400200340682501C050258FA400200104D82A53600006014E102125CE000129DB00415760FFE029DA0040014E1021000210428FBF001C27BD002803E000080000000027BDFFD8308400FF241B00013884003FAFBF001C14BB00033C0F46003C1A800001FA7825309A0001001AD18001FA7825309A0002001AD34001FA7825309A0004001AD50001FA7825309A0008001AD10001FA7825309A0010001AD2C001FA7825309A0020001AD48001FA7825241B000114BB0003AEAF00003C1AA430AF4000008FBF001C27BD002803E000080000000027BDFFD8AFBF001C241A20003C1BA430AF7A00000000F0258EBE0000241A1000AF7A0000241B0040037ED824001BD9820000D025035BD025241B4000037ED824001BDB42035BD0253C1B0040037ED824001BDD02035BD025241B0080037ED824001BD902035BD025341B8000037ED824001BDAC2035BD0253C1B0080037ED824001BDC82035BD025A09A00008FBF001C27BD002803E00008000000000000000002001001400A008804402202081041FF080840440120087F020410108084042041FE080840220110088044043FC00700C608088024014002001000800200900440418C03807E020C1010804402200900480240120110088084183F007FE20010008004002001FF080040020010008004003FF07FE20010008004002001FF0800400200100080040020000700C60808802401400200100083F200900440618D038840120090048024012009FFC8024012009004802401200807001000800400200100080040020010008004002003800040020010008004002001000800420210108082080F8040220210208204202201200A80620208102080840220084002001000800400200100080040020010008004003FF0800C007007405A02C826413111888C286143041820C0044023011408A044822211108844422209102881440620100F01861008804801400A005002801400900880430C07807F820210088044022011010FF0400200100080040020000F01861008804801400A005002801410904881430C07907F820210088044022021FE0820408204101080840220101F81021008804400100070007000400110088042040FC07FF010008004002001000800400200100080040020010040220110088044022011008804402201081040810807804012008808404202082041011008804401400A00200100820C1060828A2451228914451428A1450A282081040820401101041020808802800800400500440410208202200840110108082080880440140040020010008004002001007FE0010010010008008008008008008004004004003FF00F808208084042021010808404202101080840410407C002003002800400200100080040020010008004002001000F00840810408004002002002002002002002002001FE00F0084081040800400401C00100040020810408108078001001800C00A009004804404202102081FF802001000801F810008004002001780C20408004002081040810807800F008408104082001000BC0610204102081040810807803FC00200200100100080040040020010010008004002000F0084081040820408403C0210204102081040810807800F0084081040820410204301E8004002081040810807800200100080040020010008004002001000000000200100D806C0120120000000000000000000000000000000000004402201100887FF04402201100883FF84402201100880C006001001000000000000000000000000000000000000000000008044412405401C00400700540490444020000000000000800400200100080FFE02001000800400200000000000000000000000000000000000003001800400400000000000000000000000000FFE000000000000000000000000000000000000000000000000000030018000000000000000400400400400400400400400400400400400400000000000000C0060000000000000000001800C0000000000000000000000003FF80000000003FF8000000000000007004404102080040040040040020010000000002001000700C60808802431424A225122892236100240218603C0000000000000000000000000000000000000";
	char sm64_header[HEADER_SIZE];

	char**	reader = &sm64_header_s;
	for (int i = 0; i < HEADER_SIZE; i++)
		sm64_header[i] = getByte(reader);

	memcpy((void*) ptr, sm64_header, HEADER_SIZE);
}

ROM::ROM(char* filename)
{
}

word ROM::getClock()
{
	return header.clock;
}

word ROM::getPc()
{
	return header.pc;
}

word ROM::getRelease()
{
	return header.release;
}

word ROM::getCRC1()
{
	return header.CRC1;
}

word ROM::getCRC2()
{
	return header.CRC2;
}

string ROM::getName()
{
	string s = "";
	for(int i = 0; i < sizeof(header.name); i++)
		s += header.name[i];
	return s;
}

word ROM::getManufacturer()
{
	return header.manufacturer;
}

hword ROM::getCartridge()
{
	return header.cartridge;
}

hword ROM::getCountry()
{
	return header.country;
}

void ROM::dump(void) const
{
	cout << "*** ROM ***"				<< endl;
	cout << "name = ";
	for(int i = 0; i < sizeof(header.name); i++)
	{
		cout << header.name[i];
	}
	cout << endl;
	cout << "*** END OF ROM ***"		<< endl;
}


